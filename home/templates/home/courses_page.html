{% extends "base.html" %}
{% load wagtailcore_tags %}

{% block content %}
<div id="courses-table">
    <h1>Find an Online Course</h1>
    {{ page.heading | richtext }}
    {% include 'home/query_buttons.html' with anchor='#courses-table' %}
    {% include 'home/courses_table.html' with courses=courses_paged %}
    {% include 'home/page_buttons.html' with anchor='#courses-table' %}
</div>
{% endblock content %}

{% block extra_js %}
<script>
    const getPagedData = (url) => {
        const anchor = '#courses-table'
        $.ajax({
            url : url,
            type : 'GET',
            dataType: 'html',
            success : function(data) {
                $(anchor).html($(anchor, data));
                $('html,body').animate({
                    scrollTop: $(anchor).offset().top
                }, 'fast')
            },
            error : function(request, error) {
                console.log(error);
            }
        });
    };
</script>
{% endblock extra_js %}